<h1 class="cart-title">Mis compras</h1>

{{#if error}}
<p class="empty-cart">{{error}}</p>
{{else}}
{{#if tickets.length}}
<div class="table-responsive">
    <table class="table">
        <thead>
            <tr>
                <th>Código</th>
                <th>Fecha</th>
                <th class="text-end">Ítems</th>
                <th class="text-end">Total</th>
                <th class="text-end">Acciones</th>
            </tr>
        </thead>
        <tbody>
            {{#each tickets}}
            <tr>
                <td><code>{{code}}</code></td>
                <td>{{date}}</td>
                <td class="text-end">{{itemsCount}}</td>
                <td class="text-end">{{amountFmt}}</td>
                <td class="text-end">
                    <a href="/tickets/{{code}}" class="btn btn-sm btn-outline-primary">Ver detalle</a>
                </td>
            </tr>
            {{/each}}
        </tbody>
    </table>
</div>

<nav class="mt-3">
    <ul class="pagination justify-content-center">
        <li class="page-item {{#unless hasPrevPage}}disabled{{/unless}}">
            <a class="page-link" href="{{prevLink}}">Anterior</a>
        </li>
        <li class="page-item disabled"><span class="page-link">Página {{page}} de {{totalPages}}</span></li>
        <li class="page-item {{#unless hasNextPage}}disabled{{/unless}}">
            <a class="page-link" href="{{nextLink}}">Siguiente</a>
        </li>
    </ul>
</nav>
{{else}}
<p class="empty-cart">Aún no realizaste compras.</p>
<a href="/" class="btn btn-primary mt-2">Explorar productos</a>
{{/if}}
{{/if}}